# erd ⛓️
![erd](https://github.com/hanseonghye/ShoppingmallProject/blob/master/img/erd.png)


### 옵션

관리자가 등록한 상품의 옵션을 저장하는 테이블이다. 

| 번호(pk) | 이름   | 상품번호(fk) |
| -------- | ------ | ------------ |
| 1        | 사이즈 | 100          |
| 2        | 색상   | 100          |
| 3        | 사이즈 | 101          |
| 4        | 핏     | 102          |

### 세부옵션

옵션 테이블에서 명시한 옵션들의 구체적인 사항들을 저장한다.

| 옵션번호(fk) | 상품번호 | 이름  |
| ------------ | -------- | ----- |
| 1            | 100      | S     |
| 1            | 100      | M     |
| 2            | 100      | 블랙  |
| 3            | 101      | 240mm |



### 상품 옵션

하나의 상품에 달려있는 옵션, 각 옵션에 해당하는 가격, 재고량등 고객이 주문할 수 있는 상품 하나의 상태를 가지고 있다.

| 번호(pk) | 재고량 | 상품번호(fk) | 가격  | 옵션번호 | 옵션명          |
| -------- | ------ | ------------ | ----- | -------- | --------------- |
| 1        | 20     | 1            | 10000 | A00011   | S/블랙/슬림핏   |
| 2        | 18     | 1            | 10500 | A00012   | S/블랙/와이드핏 |
| 3        | null   | 2            | 50000 | B00001   | 260mm           |

예를 들어 다음과 같은 값을 가질 수 있다.

`옵션명`에 해당하는 값은 `세부옵션`테이블에서 상품번호가 일치하는 내용들의 조합을 이용해 만든다.



### 장바구니

한 회원은 여러개의 장바구니를 가질 수 있게 된다. `회원 번호` 컬럼의 null 여부에 따라 회원/비회원 구분이 가능해 지며, 비회원인 경우 장바구니 내역은 3일간(expiry_date 컬럼에 명시된 만큼) 저장된다.



### 주문

비회원과 회원의 주문 모두를 저장한다. 회원/비회원 구분은 `회원번호` 컬럼 값의 존재로 판단한다.

`번호`컬럼의 경우 `varchar`타입으로 비회원이 주문을 할 경우 이 값으로 주문조회가 가능하다.



### 주문 상품

회원이 주문한 상품 각각의 정보를 가지고 있다. 상품의 가격은 시간에 따라 변할 수 있기 때문에 주문할 당시의 가격을 가지고 있는다.